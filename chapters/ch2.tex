\chapter{Requisiti Funzionali}

\renewcommand{\thesubsection}{\textbf{RF\arabic{section}.\arabic{subsection}}}

\setlength{\parskip}{0.4em}
\setlength{\parindent}{0pt}

\section{Introduzione}
In questa sezione vengono descritti i requisiti funzionali del sistema \textit{Trento Decide}.  
Essi rappresentano le funzioni che la piattaforma deve offrire per soddisfare gli obiettivi di partecipazione, trasparenza e collaborazione tra cittadini e amministrazione comunale.  
I requisiti sono identificati con il prefisso \textbf{RF}, seguito da un numero progressivo e da eventuali sottosezioni tematiche.

\section{Gestione utenti e autenticazione}

\subsection{Registrazione e login}
Il sistema deve consentire ai cittadini, moderatori e amministratori comunali di registrarsi e accedere tramite autenticazione tradizionale (email e password) oppure tramite SPID/CIE.  
Durante il login, l’utente deve poter scegliere la modalità di accesso preferita.

\subsection{Gestione profilo utente}
Il sistema deve permettere a ciascun utente di visualizzare e modificare i propri dati personali.  
L’utente deve poter modificare la password e scegliere se ricevere comunicazioni dal sistema.  
Tutte le modifiche devono essere tracciate.

\subsection{Gestione ruoli e permessi}
Il sistema deve distinguere tra diversi ruoli:
\begin{itemize}
    \item \textbf{Cittadino:} crea e partecipa a proposte, vota, partecipa a consultazioni;
    \item \textbf{Moderatore:} valida e supervisiona i contenuti;
    \item \textbf{Amministratore comunale:} gestisce i processi e fornisce feedback ufficiali;
    \item \textbf{Associazione/Comitato:} può presentare proposte collettive o sostenere iniziative.
\end{itemize}

\subsection{Gestione account e sicurezza}
Deve essere possibile recuperare la password, disattivare un account, visualizzare la cronologia di accessi e gestire le preferenze di notifica.

\section{Gestione proposte cittadine}

\subsection{Creazione proposta}
Il cittadino autenticato deve poter creare una proposta pubblica compilando i campi del form (titolo, descrizione, categoria, localizzazione su mappa, ecc.).  
Il sistema deve salvare automaticamente una prima versione della proposta e assegnarle lo stato di “Bozza”.  
Una volta pubblicata, la proposta diventa visibile agli altri utenti.

\subsection{Modifica collaborativa}
Il sistema deve consentire la modifica delle proposte in modo collaborativo, mantenendo uno storico delle versioni con autore, data e descrizione del cambiamento.  
Deve essere possibile confrontare due versioni successive per visualizzare le differenze e ripristinare versioni precedenti, se necessario.

\subsection{Stato e tracciabilità delle proposte}
Ogni proposta deve possedere uno stato identificabile come “Bozza”, “Pubblicata”, “In valutazione”, “Accettata”, “Respinta”, “Implementata”, ecc.  
Il sistema deve aggiornare e mostrare la cronologia degli stati, consentendo la tracciabilità completa del processo decisionale.

\subsection{Endorsement e raccolta firme}
Il sistema deve consentire il sostegno delle proposte tramite firme digitali o endorsement da parte di singoli cittadini o associazioni.  
Deve essere possibile visualizzare il numero di firme raccolte e il loro stato di verifica.

\subsection{Proposte collettive (associazioni e comitati)}
Le associazioni registrate devono poter presentare proposte collettive.  
Queste potranno avere un canale dedicato e un peso specifico nel processo di valutazione.

\section{Votazioni e consultazioni}

\subsection{Votazione delle proposte}
Gli utenti devono poter esprimere il proprio voto su una proposta attiva tramite un sistema di upvote/downvote.  
Il sistema deve aggiornare in tempo reale il conteggio dei voti.

\subsection{Consultazioni pubbliche e sondaggi}
L’amministrazione comunale deve poter creare consultazioni o sondaggi tematici (es. “Quale area verde riqualificare?”) e raccogliere risposte dai cittadini.  
I risultati devono essere pubblici ed elaborabili in forma aggregata.

\subsection{Algoritmo di ranking}
Il sistema deve calcolare automaticamente un punteggio di rilevanza per ogni proposta, basato su parametri come numero di voti, novità, distribuzione dei votanti e impatto stimato.  
Le proposte devono poter essere ordinate per ranking, data o categoria.

\subsection{Report votazioni}
I risultati delle votazioni devono essere pubblici e accompagnati da indicatori di partecipazione (numero di votanti, quartieri coinvolti, età media).

\section{Moderazione e qualità dei contenuti}

\subsection{Moderazione automatica}
Il sistema deve analizzare automaticamente i contenuti per rilevare linguaggio inappropriato, spam o duplicati.

\subsection{Intervento dei moderatori}
Il sistema deve includere un modulo di moderazione che permetta di individuare e gestire contenuti offensivi, spam o duplicati.  
Gli utenti devono poter segnalare contenuti non conformi.  
I moderatori possono sospendere o eliminare tali contenuti, e tutte le azioni devono essere tracciate in un registro con utente, data e motivo dell’intervento.

\section{Policy Simulator e modelli statistici}

\subsection{Simulazione scenari di policy}
Il sistema deve offrire un modulo di \textit{policy simulation} che consenta di testare scenari basati su dati reali o stimati (es. impatto economico, ambientale o sociale di una proposta).

\subsection{Analisi predittiva e statistica}
Deve essere possibile generare previsioni sull’effetto delle proposte, stimando indicatori chiave come riduzione del traffico, costi, emissioni e grado di soddisfazione.

\subsection{Visualizzazione interattiva}
I risultati delle simulazioni devono essere rappresentati graficamente (mappe tematiche, grafici comparativi, dashboard) per facilitare la comprensione da parte dei cittadini e dei decisori.

\section{Comunicazione, eventi e integrazione con strumenti esistenti}

\subsection{Notifiche e avvisi}
Gli utenti devono ricevere notifiche in caso di nuovi processi, cambi di stato, aggiornamenti o inviti a eventi.  
Le notifiche devono essere configurabili per canale (email, push, App IO).

\subsection{Integrazione con strumenti comunali}
La piattaforma deve potersi interfacciare con strumenti già in uso dal Comune (es. portale Open Data, App IO, servizi di segnalazione).

\subsection{Supporto a eventi dal vivo}
Il sistema deve consentire di collegare eventi fisici (assemblee, workshop, laboratori) a processi digitali, permettendo di raccogliere e digitalizzare i contributi dei partecipanti.

\subsection{Feed informativo}
Deve essere disponibile un feed con aggiornamenti sui progetti in corso, consultazioni attive e risultati delle iniziative concluse.

\section{Analisi, trasparenza e reportistica}

\subsection{Dashboard amministrativa}
L’amministrazione comunale deve disporre di una dashboard che mostri statistiche rilevanti in tempo reale (numero di utenti attivi, proposte per categoria, distribuzione territoriale dei voti, tassi di approvazione).  
Deve essere possibile esportare i dati in formato CSV o PDF per analisi esterne.

\subsection{Esportazione e open data}
Il sistema deve fornire un’interfaccia API pubblica che consenta la consultazione anonima dei dati aggregati (proposte, voti, stati, ecc.).  
L’amministrazione deve poter esportare i dataset per la pubblicazione sul portale open data comunale.

\subsection{Audit e tracciabilità}
Tutte le azioni critiche (creazione, modifica, voto, moderazione) devono essere registrate con timestamp e utente responsabile.  
I log devono essere accessibili agli amministratori per controlli e per garantire trasparenza e accountability del processo.

\subsection{Trasparenza e accountability}
Per ogni proposta conclusa, il sistema deve permettere all’amministrazione di pubblicare un riscontro ufficiale con la motivazione di rifiuto o accettazione. Tale feedback deve essere visibile nella pagina della proposta e incluso nel registro di tracciabilità.
